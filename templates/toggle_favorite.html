{% comment %} game_detail.html {% endcomment %}
{% if request.user.is_authenticated %}
  <form method="post" action="{% url 'toggle_favorite' %}">
      {% csrf_token %}
      <!-- Pass the game id as hidden input -->
      <input type="hidden" name="game_id" value="{{ game.id }}">
      {% comment %}
         You can compute a boolean flag in your view context (e.g., is_favorited) to show the appropriate button.
      {% endcomment %}
      {% if is_favorited %}
         <button type="submit">Unfavorite</button>
      {% else %}
         <button type="submit">Favorite</button>
      {% endif %}
  </form>
{% endif %}
