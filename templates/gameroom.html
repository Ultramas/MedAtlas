{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PokeTrove Chests</title>
  <link rel="stylesheet" type="text/css" href="{% static 'css/all.min.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/owl.carousel.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/animate.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/meanmenu.min.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
  <link rel="stylesheet" type="text/css" href="{% static 'css/responsive.css' %}">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Rajdhani:wght@400;500;600;700&family=Share+Tech+Mono&display=swap">
  <link rel="stylesheet" href="styles.css">
    <style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: "Rajdhani", sans-serif;
}

:root {
  --primary: #00e5ff;
  --primary-dark: #00b8d4;
  --primary-light: #18ffff;
  --primary-glow: rgba(0, 229, 255, 0.5);

  --secondary: #ff0055;
  --secondary-dark: #c6004e;
  --secondary-light: #ff4081;

  --accent: #7c4dff;
  --accent-dark: #651fff;
  --accent-light: #b388ff;

  /* Background colors */
  --bg-dark: #0a0e17;
  --bg-darker: #050a14;
  --bg-card: rgba(16, 23, 41, 0.7);
  --bg-card-hover: rgba(20, 29, 49, 0.8);

  /* Text colors */
  --text-primary: #ffffff;
  --text-secondary: rgba(255, 255, 255, 0.7);
  --text-disabled: rgba(255, 255, 255, 0.5);
  --text-hint: rgba(255, 255, 255, 0.3);

  /* Status colors */
  --success: #00e676;
  --warning: #ffea00;
  --error: #ff1744;
  --info: #2979ff;

  /* Card rarity colors */
  --gold: #ffd700;
  --platinum: #e5e4e2;
  --emerald: #50c878;
  --diamond: #b9f2ff;

  /* Border colors */
  --border-light: rgba(255, 255, 255, 0.1);
  --border-medium: rgba(255, 255, 255, 0.15);

  /* Shadows */
  --shadow-soft: 0 4px 6px rgba(0, 0, 0, 0.1);
  --shadow-medium: 0 6px 10px rgba(0, 0, 0, 0.15);
  --shadow-hard: 0 8px 16px rgba(0, 0, 0, 0.2);

  /* Transitions */
  --transition-fast: 0.2s ease;
  --transition-medium: 0.3s ease;
  --transition-slow: 0.5s ease;

  /* Sizes */
  --border-radius: 4px;
  --border-radius-large: 8px;
  --header-height: 70px;
  --sidebar-width: 240px;
  --right-sidebar-width: 280px;
}

body {
  background: linear-gradient(135deg, var(--bg-darker) 0%, var(--bg-dark) 100%);
  color: var(--text-primary);
  min-height: 100vh;
  overflow-x: hidden;
  position: relative;
  line-height: 1.5;
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: var(--primary-dark);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--primary);
}

#loading-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(5, 10, 20, 0.9);
  z-index: 9999;
  display: flex;
  justify-content: center;
  align-items: center;
  transition: opacity 0.5s ease, visibility 0.5s ease;
}

.loading-container {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.loading-spinner {
  position: relative;
  width: 120px;
  height: 120px;
}

.spinner-ring {
  position: absolute;
  border-radius: 50%;
  border: 4px solid transparent;
}

.spinner-ring.outer {
  width: 100%;
  height: 100%;
  border-top-color: var(--primary);
  animation: spin 2s linear infinite;
}

.spinner-ring.middle {
  width: 80%;
  height: 80%;
  top: 10%;
  left: 10%;
  border-right-color: var(--secondary);
  animation: spin 1.5s linear infinite reverse;
}

.spinner-ring.inner {
  width: 60%;
  height: 60%;
  top: 20%;
  left: 20%;
  border-bottom-color: var(--accent);
  animation: spin 1s linear infinite;
}

.loading-text {
  margin-top: 20px;
  font-family: "Share Tech Mono", monospace;
  font-size: 16px;
  letter-spacing: 2px;
  color: var(--primary);
  text-shadow: 0 0 10px var(--primary-glow);
}

.loading-progress {
  margin-top: 15px;
  width: 200px;
  height: 4px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  overflow: hidden;
}

.progress-bar {
  height: 100%;
  width: 0%;
  background: linear-gradient(90deg, var(--primary-dark), var(--primary));
  animation: progress 2s ease-in-out forwards;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes progress {
  0% {
    width: 0%;
  }
  100% {
    width: 100%;
  }
}


#particle-canvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
  opacity: 0.3;
}


.container {
  max-width: 1920px;
  margin: 0 auto;
  padding: 20px;
  position: relative;
  z-index: 1;
}


header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 0;
  margin-bottom: 20px;
  border-bottom: 1px solid var(--border-light);
}

.logo {
  display: flex;
  align-items: center;
}

.logo-hex {
  position: relative;
  width: 40px;
  height: 40px;
  margin-right: 10px;
}

.logo-icon {
  width: 100%;
  height: 100%;
  fill: var(--primary);
  filter: drop-shadow(0 0 5px var(--primary-glow));
}

.logo-text {
  font-size: 24px;
  font-weight: 700;
  background: linear-gradient(90deg, var(--primary) 0%, var(--accent-light) 100%);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  letter-spacing: 1px;
}

.header-controls {
  display: flex;
  align-items: center;
  gap: 20px;
}

.search-bar {
  display: flex;
  align-items: center;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--border-light);
  border-radius: 20px;
  padding: 5px 15px;
  width: 250px;
}

.search-icon {
  width: 18px;
  height: 18px;
  fill: var(--text-hint);
  margin-right: 8px;
}

.search-bar input {
  background: transparent;
  border: none;
  color: var(--text-primary);
  font-size: 14px;
  width: 100%;
  outline: none;
}

.search-bar input::placeholder {
  color: var(--text-hint);
}

.header-buttons {
  display: flex;
  align-items: center;
  gap: 15px;
}

.icon-button {
  background: transparent;
  border: none;
  width: 36px;
  height: 36px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  position: relative;
  transition: background-color var(--transition-fast);
}

.icon-button:hover {
  background: rgba(255, 255, 255, 0.1);
}

.icon-button svg {
  width: 20px;
  height: 20px;
  fill: var(--text-secondary);
}

.notification-dot {
  position: absolute;
  top: 5px;
  right: 5px;
  width: 8px;
  height: 8px;
  background-color: var(--secondary);
  border-radius: 50%;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% {
    transform: scale(0.95);
    box-shadow: 0 0 0 0 rgba(255, 0, 85, 0.7);
  }
  70% {
    transform: scale(1);
    box-shadow: 0 0 0 6px rgba(255, 0, 85, 0);
  }
  100% {
    transform: scale(0.95);
    box-shadow: 0 0 0 0 rgba(255, 0, 85, 0);
  }
}

.user-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  overflow: hidden;
  border: 2px solid var(--primary);
  box-shadow: 0 0 10px var(--primary-glow);
}

.user-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.main-menu{
    position: fixed !important;
}

.dashboard-grid {
  display: grid;
  grid-template-columns: var(--sidebar-width) 1fr var(--right-sidebar-width);
  gap: 20px;
}


.sidebar {
  grid-column: 1;
}

.sidebar-card {
  background: var(--bg-card);
  border-radius: var(--border-radius-large);
  border: 1px solid var(--border-light);
  backdrop-filter: blur(10px);
  overflow: hidden;
  box-shadow: var(--shadow-medium);
  height: calc(100vh - var(--header-height) - 40px);
  display: flex;
  flex-direction: column;
}

.sidebar-nav {
  padding: 15px;
  margin-bottom: 20px;
}

.element-item {
  display: flex;
  align-items: center;
  width: 100%;
  padding: 12px 15px;
  margin-bottom: 5px;
  border: none;
  background: transparent;
  color: var(--text-secondary);
  font-size: 16px;
  text-align: left;
  cursor: pointer;
  border-radius: var(--border-radius);
  transition: all var(--transition-fast);
  position: relative;
  overflow: hidden;
}

.element-item::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  height: 100%;
  background: transparent;
  transition: all var(--transition-fast);
}

.element-item:hover {
  background: rgba(255, 255, 255, 0.05);
  color: var(--text-primary);
}

.element-newprofile.active {
  background: rgba(0, 229, 255, 0.1);
  color: var(--primary);
}

.element-newprofile.active::before {
  background: var(--primary);
  box-shadow: 0 0 10px var(--primary-glow);
}

.element-item svg {
  width: 20px;
  height: 20px;
  margin-right: 12px;
  fill: currentColor;
}

/* Filter section */
.filter-section {
  padding: 15px;
  flex-grow: 1;
  overflow-y: auto;
}

.section-title {
  font-size: 12px;
  color: var(--text-hint);
  margin-bottom: 15px;
  font-family: "Share Tech Mono", monospace;
  letter-spacing: 1px;
}

.filter-group {
  margin-bottom: 20px;
}

.filter-label {
  display: block;
  font-size: 14px;
  color: var(--text-secondary);
  margin-bottom: 8px;
}

.filter-select {
  width: 100%;
  padding: 10px;
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--border-light);
  border-radius: var(--border-radius);
  color: var(--text-primary);
  font-size: 14px;
  outline: none;
}

.filter-select:focus {
  border-color: var(--primary);
}

.range-slider {
  position: relative;
  width: 100%;
  margin-top: 10px;
}

.slider {
  width: 100%;
  height: 4px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 2px;
  outline: none;
  -webkit-appearance: none;
  appearance: none;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 16px;
  height: 16px;
  border-radius: 50%;
  background: var(--primary);
  cursor: pointer;
  box-shadow: 0 0 10px var(--primary-glow);
}

.range-value {
  margin-top: 10px;
  font-family: "Share Tech Mono", monospace;
  color: var(--text-primary);
  text-align: center;
}

.tier-options {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
}

.tier-option {
  display: flex;
  align-items: center;
  cursor: pointer;
}

.tier-option input {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

.tier-checkbox {
  width: 16px;
  height: 16px;
  border: 1px solid var(--border-light);
  border-radius: 3px;
  margin-right: 8px;
  position: relative;
}

.tier-option input:checked ~ .tier-checkbox::after {
  content: "";
  position: absolute;
  top: 3px;
  left: 3px;
  width: 8px;
  height: 8px;
  border-radius: 1px;
}

.tier-checkbox.gold {
  border-color: var(--gold);
}

.tier-checkbox.platinum {
  border-color: var(--platinum);
}

.tier-checkbox.emerald {
  border-color: var(--emerald);
}

.tier-checkbox.diamond {
  border-color: var(--diamond);
}

.tier-option input:checked ~ .tier-checkbox.gold::after {
  background-color: var(--gold);
}

.tier-option input:checked ~ .tier-checkbox.platinum::after {
  background-color: var(--platinum);
}

.tier-option input:checked ~ .tier-checkbox.emerald::after {
  background-color: var(--emerald);
}

.tier-option input:checked ~ .tier-checkbox.diamond::after {
  background-color: var(--diamond);
}

.apply-filters-btn {
  width: 100%;
  padding: 12px;
  background: linear-gradient(45deg, var(--primary-dark), var(--primary));
  border: none;
  border-radius: var(--border-radius);
  color: var(--text-primary);
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: all var(--transition-fast);
}

.apply-filters-btn:hover {
  box-shadow: 0 0 15px var(--primary-glow);
}

.apply-filters-btn svg {
  width: 18px;
  height: 18px;
  fill: currentColor;
}

/* Main content */
.main-content {
  grid-column: 2;
  display: flex;
  flex-direction: column;
  gap: 20px;
  overflow-y: auto;
  max-height: calc(100vh - var(--header-height) - 40px);
}

.content-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: 15px;
  border-bottom: 1px solid var(--border-light);
}

.page-title h1 {
  font-size: 28px;
  font-weight: 700;
  color: var(--primary);
  margin-bottom: 5px;
  font-family: "Share Tech Mono", monospace;
  text-shadow: 0 0 10px var(--primary-glow);
}

.item-count {
  font-size: 14px;
  color: var(--text-secondary);
}

.view-controls {
  display: flex;
  gap: 10px;
}

.control-button {
  background: rgba(255, 255, 255, 0.05);
  border: 1px solid var(--border-light);
  border-radius: var(--border-radius);
  padding: 8px 15px;
  color: var(--text-secondary);
  font-size: 14px;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all var(--transition-fast);
}

.control-button:hover {
  background: rgba(0, 229, 255, 0.1);
  border-color: var(--primary);
  color: var(--primary);
}

.control-button svg {
  width: 18px;
  height: 18px;
  fill: currentColor;
}

/* Inventory grid */
.inventory-grid {
  display: grid;
  gap: 20px;
  padding-bottom: 20px;
}

.inventory-grid.comfortable-view {
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
}

.inventory-grid.compact-view {
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
}

.inventory-item {
  background: var(--bg-card);
  border-radius: var(--border-radius-large);
  border: 1px solid var(--border-light);
  overflow: hidden;
  transition: all var(--transition-medium);
  position: relative;
}

.inventory-item:hover {
  transform: translateY(-5px);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
  border-color: var(--primary);
}

.inventory-item a {
  text-decoration: none;
  color: var(--text-primary);
  display: block;
}

.item-rarity-indicator {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 4px;
}

.item-rarity-indicator.gold {
  background: linear-gradient(90deg, transparent, var(--gold), transparent);
  box-shadow: 0 0 10px var(--gold);
}

.item-  transparent, var(--gold), transparent);
  box-shadow: 0 0 10px var(--gold);
}

.item-rarity-indicator.platinum {
  background: linear-gradient(90deg, transparent, var(--platinum), transparent);
  box-shadow: 0 0 10px var(--platinum);
}

.item-rarity-indicator.emerald {
  background: linear-gradient(90deg, transparent, var(--emerald), transparent);
  box-shadow: 0 0 10px var(--emerald);
}

.item-rarity-indicator.diamond {
  background: linear-gradient(90deg, transparent, var(--diamond), transparent);
  box-shadow: 0 0 10px var(--diamond);
}

.item-image {
  position: relative;
  width: 100%;
  height: 200px;
  overflow: hidden;
  background: rgba(0, 0, 0, 0.3);
}

.item-image img {
  width: 100%;
  height: 100%;
  object-fit: contain;
  transition: transform var(--transition-medium);
}

.inventory-item:hover .item-image img {
  transform: scale(1.05);
}

.legendary-badge {
  position: absolute;
  top: 10px;
  right: 10px;
  width: 30px;
  height: 30px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 50%;
  z-index: 2;
}

.legendary-badge svg {
  width: 20px;
  height: 20px;
  fill: var(--gold);
  filter: drop-shadow(0 0 5px var(--gold));
}

.item-details {
  padding: 15px;
}

.item-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 10px;
}

.item-name {
  font-size: 18px;
  font-weight: 600;
  color: var(--primary);
  margin: 0;
}

.item-price {
  text-align: right;
}

.original-price {
  display: block;
  font-size: 14px;
  color: var(--text-disabled);
  text-decoration: line-through;
}

.discount-price {
  display: block;
  font-size: 18px;
  color: var(--secondary);
  font-weight: 600;
}

.current-price {
  font-size: 18px;
  color: var(--primary);
  font-weight: 600;
}

.item-title {
  font-size: 16px;
  margin-bottom: 15px;
  color: var(--text-secondary);
}

.item-stats {
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius);
  padding: 10px;
  margin-bottom: 15px;
}

.stat-row {
  display: flex;
  justify-content: space-between;
  padding: 5px 0;
  border-bottom: 1px solid var(--border-light);
}

.stat-row:last-child {
  border-bottom: none;
}

.stat-label {
  font-size: 12px;
  color: var(--text-secondary);
  font-family: "Share Tech Mono", monospace;
}

.stat-value {
  font-size: 12px;
  color: var(--text-primary);
}

.tier-badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 10px;
  font-size: 12px;
}

.tier-badge.gold {
  background: rgba(255, 215, 0, 0.2);
  color: var(--gold);
  border: 1px solid var(--gold);
}

.tier-badge.platinum {
  background: rgba(229, 228, 226, 0.2);
  color: var(--platinum);
  border: 1px solid var(--platinum);
}

.tier-badge.emerald {
  background: rgba(80, 200, 120, 0.2);
  color: var(--emerald);
  border: 1px solid var(--emerald);
}

.tier-badge.diamond {
  background: rgba(185, 242, 255, 0.2);
  color: var(--diamond);
  border: 1px solid var(--diamond);
}

.item-description {
  font-size: 14px;
  color: var(--text-secondary);
  margin-bottom: 15px;
  max-height: 60px;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
}

.add-to-cart-btn {
  width: 100%;
  padding: 10px;
  background: linear-gradient(45deg, var(--primary-dark), var(--primary));
  border: none;
  border-radius: var(--border-radius);
  color: var(--text-primary);
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: all var(--transition-fast);
  position: relative;
  overflow: hidden;
}

.add-to-cart-btn:hover {
  box-shadow: 0 0 15px var(--primary-glow);
}

.add-to-cart-btn svg {
  width: 16px;
  height: 16px;
  fill: currentColor;
}

/* Empty state */
.empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px;
  text-align: center;
  grid-column: 1 / -1;
}

.empty-icon {
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 50%;
  margin-bottom: 20px;
}

.empty-icon svg {
  width: 40px;
  height: 40px;
  fill: var(--text-secondary);
}

.empty-state h3 {
  font-size: 24px;
  color: var(--primary);
  margin-bottom: 10px;
}

.empty-state p {
  font-size: 16px;
  color: var(--text-secondary);
  margin-bottom: 20px;
}

.empty-image {
  max-width: 300px;
  border-radius: var(--border-radius);
  box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
}

/* Right sidebar */
.right-sidebar {
  grid-column: 3;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

/* Card styles */
.card {
  background: var(--bg-card);
  border-radius: var(--border-radius-large);
  border: 1px solid var(--border-light);
  overflow: hidden;
  box-shadow: var(--shadow-medium);
}

.card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px;
  border-bottom: 1px solid var(--border-light);
}

.card-title {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary);
}

.card-title svg {
  width: 18px;
  height: 18px;
  fill: var(--primary);
}

.card-content {
  padding: 15px;
}

/* System time */
.system-time {
  overflow: hidden;
}

.time-header {
  background: linear-gradient(135deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0.1));
  padding: 20px;
  text-align: center;
  border-bottom: 1px solid var(--border-light);
}

.time-label {
  font-size: 12px;
  color: var(--text-hint);
  margin-bottom: 5px;
  font-family: "Share Tech Mono", monospace;
  letter-spacing: 1px;
}

.time-value {
  font-size: 32px;
  font-family: "Share Tech Mono", monospace;
  color: var(--primary);
  margin-bottom: 5px;
  text-shadow: 0 0 10px var(--primary-glow);
}

.date-value {
  font-size: 14px;
  color: var(--text-secondary);
}

.time-details {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 10px;
  padding: 15px;
}

.time-detail-item {
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius);
  border: 1px solid var(--border-light);
  padding: 10px;
}

.detail-label {
  font-size: 12px;
  color: var(--text-hint);
  margin-bottom: 5px;
  font-family: "Share Tech Mono", monospace;
}

.detail-value {
  font-size: 14px;
  font-family: "Share Tech Mono", monospace;
  color: var(--text-primary);
}

/* Cart summary */
.cart-count {
  background: rgba(0, 229, 255, 0.1);
  border: 1px solid rgba(0, 229, 255, 0.3);
  border-radius: 12px;
  padding: 2px 8px;
  font-size: 12px;
  color: var(--primary);
  font-family: "Share Tech Mono", monospace;
}

.cart-items {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 15px;
  max-height: 200px;
  overflow-y: auto;
}

.cart-item {
  display: flex;
  align-items: center;
  gap: 10px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius);
  padding: 10px;
  position: relative;
}

.cart-item-image {
  width: 40px;
  height: 40px;
  border-radius: var(--border-radius);
  overflow: hidden;
  background: rgba(0, 0, 0, 0.3);
}

.cart-item-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.cart-item-details {
  flex: 1;
}

.cart-item-name {
  font-size: 14px;
  color: var(--text-primary);
  margin-bottom: 2px;
}

.cart-item-price {
  font-size: 12px;
  color: var(--primary);
}

.remove-item-btn {
  background: transparent;
  border: none;
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  color: var(--text-disabled);
  transition: color var(--transition-fast);
}

.remove-item-btn:hover {
  color: var(--error);
}

.remove-item-btn svg {
  width: 16px;
  height: 16px;
  fill: currentColor;
}

.cart-total {
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius);
  padding: 15px;
  margin-bottom: 15px;
}

.total-row {
  display: flex;
  justify-content: space-between;
  padding: 5px 0;
  font-size: 14px;
}

.total-label {
  color: var(--text-secondary);
}

.total-value {
  color: var(--text-primary);
  font-family: "Share Tech Mono", monospace;
}

.final-total {
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid var(--border-light);
  font-weight: 600;
}

.final-total .total-value {
  color: var(--primary);
}

.checkout-btn {
  width: 100%;
  padding: 12px;
  background: linear-gradient(45deg, var(--primary-dark), var(--primary));
  border: none;
  border-radius: var(--border-radius);
  color: var(--text-primary);
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  transition: all var(--transition-fast);
}

.checkout-btn:hover {
  box-shadow: 0 0 15px var(--primary-glow);
}

.checkout-btn svg {
  width: 18px;
  height: 18px;
  fill: currentColor;
}

/* Featured items */
.featured-items .card-content {
  display: flex;
  flex-direction: column;
  gap: 15px;
}

.featured-item {
  display: flex;
  align-items: center;
  gap: 15px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: var(--border-radius);
  padding: 10px;
  transition: all var(--transition-fast);
}

.featured-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
}

.featured-item-image {
  width: 60px;
  height: 60px;
  border-radius: var(--border-radius);
  overflow: hidden;
  background: rgba(0, 0, 0, 0.3);
}

.featured-item-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.featured-item-details {
  flex: 1;
}

.featured-item-name {
  font-size: 14px;
  color: var(--text-primary);
  margin-bottom: 5px;
}

.featured-item-price {
  font-size: 14px;
  color: var(--primary);
  font-weight: 600;
  margin-bottom: 5px;
}

.featured-item-tier {
  display: inline-block;
  font-size: 12px;
  padding: 2px 8px;
  border-radius: 10px;
}

.featured-item-tier.gold {
  background: rgba(255, 215, 0, 0.2);
  color: var(--gold);
  border: 1px solid var(--gold);
}

.featured-item-tier.platinum {
  background: rgba(229, 228, 226, 0.2);
  color: var(--platinum);
  border: 1px solid var(--platinum);
}

.featured-item-tier.emerald {
  background: rgba(80, 200, 120, 0.2);
  color: var(--emerald);
  border: 1px solid var(--emerald);
}

.featured-item-tier.diamond {
  background: rgba(185, 242, 255, 0.2);
  color: var(--diamond);
  border: 1px solid var(--diamond);
}

/* Footer */
.copyright-section {
  background: linear-gradient(
    to right,
    rgba(0, 240, 255, 0.1),
    rgba(255, 255, 255, 0.05),
    rgba(255, 0, 229, 0.1)
  );
  backdrop-filter: blur(10px);
  border-top: 1px solid rgba(0, 240, 255, 0.3);
  padding: 15px 0;
  text-align: center;
  color: var(--text-secondary);
  font-size: 14px;
  margin-top: 20px;
}

/* Notification */
#notification-container {
  position: fixed;
  top: 20px;
  right: 20px;
  z-index: 9999;
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.notification {
  background: var(--bg-card);
  border: 1px solid var(--primary);
  border-radius: var(--border-radius);
  padding: 15px;
  width: 300px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
  transform: translateX(120%);
  transition: transform var(--transition-medium);
}

.notification.show {
  transform: translateX(0);
}

.notification-content {
  display: flex;
  align-items: center;
  gap: 15px;
}

.notification-icon {
  width: 24px;
  height: 24px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 230, 118, 0.1);
  border-radius: 50%;
  color: var(--success);
}

.notification-icon svg {
  width: 16px;
  height: 16px;
  fill: currentColor;
}

.notification-message {
  flex: 1;
  color: var(--text-primary);
}

/* Glitch effect */
.glitch-layer {
  pointer-events: none;
}

@keyframes glitch {
  0% { transform: translate(0); }
  20% { transform: translate(-2px, 2px); }
  40% { transform: translate(-2px, -2px); }
  60% { transform: translate(2px, 2px); }
  80% { transform: translate(2px, -2px); }
  100% { transform: translate(0); }
}

.glitch-effect {
  animation: glitch 0.3s linear;
}

/* Responsive design */
@media (max-width: 1400px) {
  .dashboard-grid {
    grid-template-columns: 220px 1fr 250px;
  }
}

@media (max-width: 1200px) {
  .dashboard-grid {
    grid-template-columns: 200px 1fr;
  }

  .right-sidebar {
    grid-column: 1 / -1;
    grid-row: 2;
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
  }
}

@media (max-width: 992px) {
  .dashboard-grid {
    grid-template-columns: 1fr;
  }

  .sidebar {
    display: none;
  }

  .right-sidebar {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .search-bar {
    display: none;
  }

  .header-controls {
    gap: 10px;
  }

  .right-sidebar {
    grid-template-columns: 1fr;
  }

  .time-details {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 576px) {
  .container {
    padding: 10px;
  }

  .logo-text {
    font-size: 18px;
  }

  .inventory-grid.comfortable-view,
  .inventory-grid.compact-view {
    grid-template-columns: 1fr;
  }
}
        /* Rising Sparks Animation */
#rising-sparks-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  overflow: hidden;
}

.fire-spark {
  position: absolute;
  bottom: -10px;
  border-radius: 50%;
  filter: blur(1px);
  opacity: 0;
  z-index: 1;
}

@keyframes riseSpark {
  0% {
    transform: translateY(0) rotate(0deg) scale(1);
    opacity: 0;
  }
  10% {
    opacity: var(--spark-opacity);
  }
  70% {
    opacity: var(--spark-opacity);
  }
  100% {
    transform: translateY(calc(-100vh - 20px)) rotate(var(--rotate-deg));
    opacity: 0;
  }
}

.fire-spark.gold {
  background: radial-gradient(circle at center, var(--gold) 0%, transparent 70%);
  box-shadow: 0 0 15px var(--gold);
}

.fire-spark.orange {
  background: radial-gradient(circle at center, #ff6600 0%, transparent 70%);
  box-shadow: 0 0 15px #ff6600;
}

.fire-spark.red {
  background: radial-gradient(circle at center, #ff3300 0%, transparent 70%);
  box-shadow: 0 0 15px #ff3300;
}

.fire-spark.cyan {
  background: radial-gradient(circle at center, var(--primary) 0%, transparent 70%);
  box-shadow: 0 0 15px var(--primary-glow);
}

.fire-spark.magenta {
  background: radial-gradient(circle at center, var(--secondary) 0%, transparent 70%);
  box-shadow: 0 0 15px var(--secondary);
}
    </style>
</head>

<body>
  <canvas id="particle-canvas"></canvas>
  <div id="rising-sparks-container"></div>
  <div class="container">
    {% include 'navtrove.html' %}

    <!-- Header -->
    <header style="margin-top:10%;">
      <div class="logo">
        <div class="logo-hex">
          <svg viewBox="0 0 24 24" class="logo-icon">
            <path d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4C7.58,4 4,7.58 4,12C4,16.42 7.58,20 12,20C16.42,20 20,16.42 20,12C20,7.58 16.42,4 12,4M12,6C15.31,6 18,8.69 18,12C18,15.31 15.31,18 12,18C8.69,18 6,15.31 6,12C6,8.69 8.69,6 12,6M12,8A4,4 0 0,0 8,12A4,4 0 0,0 12,16A4,4 0 0,0 16,12A4,4 0 0,0 12,8Z" />
          </svg>
        </div>
        <span class="logo-text">POKETROVE CHESTS</span>
      </div>

      <div class="header-controls">
        <div class="search-bar">
          <svg viewBox="0 0 24 24" class="search-icon">
            <path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" />
          </svg>
          <input type="text" placeholder="Search Chests...">
        </div>

        <div class="header-buttons">
          <button class="icon-button notification-button">
            <svg viewBox="0 0 24 24">
              <path d="M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21" />
            </svg>
            <span class="notification-dot"></span>
          </button>
          <button class="icon-button theme-button">
            <svg viewBox="0 0 24 24" id="theme-icon">
              <path d="M12,18C11.11,18 10.26,17.8 9.5,17.45C11.56,16.5 13,14.42 13,12C13,9.58 11.56,7.5 9.5,6.55C10.26,6.2 11.11,6 12,6A6,6 0 0,1 18,12A6,6 0 0,1 12,18M20,8.69V4H15.31L12,0.69L8.69,4H4V8.69L0.69,12L4,15.31V20H8.69L12,23.31L15.31,20H20V15.31L23.31,12L20,8.69Z" />
            </svg>
          </button>
          <div class="user-avatar">
                {% for newprofile in Profiles %}
                     <a href="{{ newprofile.newprofile_profile_url }}">
                        <img src="{{ newprofile.newprofile_profile_picture_url|default:'/static/css/images/a.jpg' }}" alt="Profile Picture" style="" onerror="this.onerror=null; this.src='/static/css/images/a.jpg';">
                    </a>
{% empty %}
            <a href="{% url 'login' %}?next={{ request.path }}" style="display: contents;">
                <img src="/static/css/images/a.jpg" alt="Profile Picture" style="border-radius: 50px; margin-right: 20px;">
            </a>

{% endfor %}
          </div>
        </div>
      </div>
    </header>

    <!-- Ehome dashboard grid -->
    <div class="dashboard-grid">
      <!-- Sidebar -->
      <div class="sidebar">
        <div class="sidebar-card">
          <nav class="sidebar-nav">
            <div class="filter-buttons">
  <button class="element-item" data-filter="F">
    <svg viewBox="0 0 24 24">
      <path d="M3,13H11V3H3V13M3,21H11V15H3V21M13,21H21V11H13V21M13,3V9H21V3H13Z" />
    </svg>
    <span>Featured</span>
  </button>
  <button class="element-item" data-filter="N">
    <svg viewBox="0 0 24 24">
      <path d="M12,13A5,5 0 0,1 7,8H9A3,3 0 0,0 12,11A3,3 0 0,0 15,8H17A5,5 0 0,1 12,13M12,3A3,3 0 0,1 15,6H9A3,3 0 0,1 12,3M19,6H17A5,5 0 0,0 12,1A5,5 0 0,0 7,6H5C3.89,6 3,6.89 3,8V20A2,2 0 0,0 5,22H19A2,2 0 0,0 21,20V8C21,6.89 20.1,6 19,6Z" />
    </svg>
    <span>New</span>
  </button>
  <button class="element-item" data-filter="P">
    <svg viewBox="0 0 24 24">
      <path d="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4C7.58,4 4,7.58 4,12C4,16.42 7.58,20 12,20C16.42,20 20,16.42 20,12C20,7.58 16.42,4 12,4M12,6C15.31,6 18,8.69 18,12C18,15.31 15.31,18 12,18C8.69,18 6,15.31 6,12C6,8.69 8.69,6 12,6M12,8A4,4 0 0,0 8,12A4,4 0 0,0 12,16A4,4 0 0,0 16,12A4,4 0 0,0 12,8Z" />
    </svg>
    <span>Popular</span>
  </button>
</div>

          </nav>

          <div class="filter-section">
            <h3 class="section-title">FILTERS</h3>
            <div class="filter-group">
              <label class="filter-label">Category</label>
              <select class="filter-select">
                <option value="all">All Categories</option>
                <option value="pokemon">Pokemon</option>
                <option value="magic">Magic The Gathering</option>
                <option value="yugioh">Yu-Gi-Oh!</option>
                <option value="bakugo">Bakugo</option>
              </select>
            </div>

            <div class="filter-group">
              <label class="filter-label">Category</label>
              <select class="filter-select">
                <option value="all">All Conditions</option>
                <option value="mint">Mint</option>
                <option value="near-mint">Near Mint</option>
                <option value="excellent">Excellent</option>
                <option value="good">Good</option>
                <option value="fair">Fair</option>
              </select>
            </div>

            <div class="filter-group">
              <label class="filter-label">Price Range</label>
              <div class="range-slider">
                <input type="range" min="0" max="1000" value="500" class="slider" id="priceRange">
                <div class="range-value">$<span id="priceValue">500</span></div>
              </div>
            </div>

            <div class="filter-group">
              <label class="filter-label">Tier</label>
              <div class="tier-options">
                <label class="tier-option">
                  <input type="checkbox" name="tier" value="gold">
                  <span class="tier-checkbox gold"></span>
                  <span>Gold</span>
                </label>
                <label class="tier-option">
                  <input type="checkbox" name="tier" value="platinum">
                  <span class="tier-checkbox platinum"></span>
                  <span>Platinum</span>
                </label>
                <label class="tier-option">
                  <input type="checkbox" name="tier" value="emerald">
                  <span class="tier-checkbox emerald"></span>
                  <span>Emerald</span>
                </label>
                <label class="tier-option">
                  <input type="checkbox" name="tier" value="diamond">
                  <span class="tier-checkbox diamond"></span>
                  <span>Diamond</span>
                </label>
              </div>
            </div>

            <button class="apply-filters-btn">
              <svg viewBox="0 0 24 24"><path d="M14,12V19.88C14.04,20.18 13.94,20.5 13.71,20.71C13.32,21.1 12.69,21.1 12.3,20.71L10.29,18.7C10.06,18.47 9.96,18.16 10,17.87V12H9.97L4.21,4.62C3.87,4.19 3.95,3.56 4.38,3.22C4.57,3.08 4.78,3 5,3H19C19.22,3 19.43,3.08 19.62,3.22C20.05,3.56 20.13,4.19 19.79,4.62L14.03,12H14Z" /></svg>
              Apply Filters
            </button>
          </div>
        </div>
      </div>

      <!-- Main content -->
      <div class="main-content">
        <div class="content-header">
          <div class="page-title">
            <h1>PokeTrove Chests</h1>
              <div class="item-count">
                {% include 'partial_game_count.html' %}
              </div>
             <script>
    function updateGameCount() {
      fetch("{% url 'showcase:partial_game_count' %}?filter=S")
        .then(response => response.text())
        .then(html => {
          document.querySelector('.item-count').innerHTML = html;
        })
        .catch(error => {
          console.error('Error updating game count:', error);
        });
    }
    updateGameCount();
  </script>
          </div>
          <div class="view-controls">
            <button id="toggleViewBtn" class="control-button">
              <svg viewBox="0 0 24 24"><path d="M3,9H7V5H3V9M3,14H7V10H3V14M8,14H12V10H8V14M13,14H17V10H13V14M8,9H12V5H8V9M13,5V9H17V5H13M18,14H22V10H18V14M3,19H7V15H3V19M8,19H12V15H8V19M13,19H17V15H13V19M18,19H22V15H18V19M18,5V9H22V5H18Z" /></svg>
              <span>Toggle View</span>
            </button>
            <button class="control-button">
              <svg viewBox="0 0 24 24"><path d="M3,13H15V11H3M3,6V8H21V6M3,18H9V16H3V18Z" /></svg>
              <span>Sort</span>
            </button>
          </div>
        </div>

        <div id="inventoryGameGrid" class="inventory-grid comfortable-view">
{% include "partial_game.html" with Games=tophit %}
        </div>
      </div>

      <!-- Right sidebar -->
      <div class="right-sidebar">
        <!-- System time -->
        <div class="card system-time">
          <div class="time-header">
            <div class="time-label">SYSTEM TIME</div>
            <div class="time-value" id="current-time">00:00:00</div>
            <div class="date-value" id="current-date">Jan 1, 2023</div>
          </div>
          <div class="time-details">
            <div class="time-detail-item">
              <div class="detail-label">LAST UPDATE</div>
              <div class="detail-value" id="last-update">2h 15m ago</div>
            </div>
            <div class="time-detail-item">
              <div class="detail-label">NEXT RESTOCK</div>
              <div class="detail-value">12h 30m</div>
            </div>
          </div>
        </div>

        <!-- Cart summary -->
        <div class="card cart-summary">
          <div class="card-header">
            <div class="card-title">
              <svg viewBox="0 0 24 24"><path d="M17,18C15.89,18 15,18.89 15,20A2,2 0 0,0 17,22A2,2 0 0,0 19,20C19,18.89 18.1,18 17,18M1,2V4H3L6.6,11.59L5.24,14.04C5.09,14.32 5,14.65 5,15A2,2 0 0,0 7,17H19V15H7.42A0.25,0.25 0 0,1 7.17,14.75C7.17,14.7 7.18,14.66 7.2,14.63L8.1,13H15.55C16.3,13 16.96,12.58 17.3,11.97L20.88,5.5C20.95,5.34 21,5.17 21,5A1,1 0 0,0 20,4H5.21L4.27,2M7,18C5.89,18 5,18.89 5,20A2,2 0 0,0 7,22A2,2 0 0,0 9,20C9,18.89 8.1,18 7,18Z" /></svg>
              Top Hits
            </div>
            <div class="cart-count">{{NewGame|length}} Hits</div>
          </div>
          <div class="card-content">
            <div class="cart-items">
              <div class="cart-item">
                <div class="cart-item-image">
                  <img src="https://via.placeholder.com/50" alt="Card">
                </div>
                <div class="cart-item-details">
                  <div class="cart-item-name">Charizard GX</div>
                  <div class="cart-item-price">$120.00</div>
                </div>
                <button class="remove-item-btn">
                  <svg viewBox="0 0 24 24"><path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>
                </button>
              </div>
              <div class="cart-item">
                <div class="cart-item-image">
                  <img src="https://via.placeholder.com/50" alt="Card">
                </div>
                <div class="cart-item-details">
                  <div class="cart-item-name">Blastoise EX</div>
                  <div class="cart-item-price">$85.50</div>
                </div>
                <button class="remove-item-btn">
                  <svg viewBox="0 0 24 24"><path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>
                </button>
              </div>
              <div class="cart-item">
                <div class="cart-item-image">
                  <img src="https://via.placeholder.com/50" alt="Card">
                </div>
                <div class="cart-item-details">
                  <div class="cart-item-name">Venusaur V</div>
                  <div class="cart-item-price">$65.25</div>
                </div>
                <button class="remove-item-btn">
                  <svg viewBox="0 0 24 24"><path d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>
                </button>
              </div>
            </div>

          </div>
        </div>

        <!-- Featured items -->


      </div>
    </div>
    </div>

    <footer class="copyright-section">
      <div class="container">
        <p>
          {% for BaseCopyrightTextField in BaseCopyrightTextFielded %}
            {{BaseCopyrightTextField.copyright}}
          {% endfor %}
        </p>
      </div>
    </footer>
  </div>

  <!-- Notification container -->
  <div id="notification-container"></div>

  <script>
    const sellAudio = new Audio("{% static 'css/sounds/sell_coin.mp3' %}");
    const withdrawAudio = new Audio("{% static 'css/sounds/withdraw.mp3'  %}");
    const withdrawAudio = new Audio("{% static 'css/sounds/withdraw.mp3' %}");
    const tradeAudio = new Audio("{% static 'css/sounds/trade.mp3' %}");

    document.addEventListener("DOMContentLoaded", function() {
      // Initialize loading screen
      initLoading();

      initParticles();

      initFireSparks();

      initSystemTime();

      const toggleBtn = document.getElementById("toggleViewBtn");
      const inventoryGrid = document.getElementById("inventoryGrid");

      if (toggleBtn && inventoryGrid) {
        toggleBtn.addEventListener("click", function() {
          inventoryGrid.classList.toggle("compact-view");
          inventoryGrid.classList.toggle("comfortable-view");

          // Save preference to localStorage
          const isCompact = inventoryGrid.classList.contains("compact-view");
          localStorage.setItem("inventoryViewPreference", isCompact ? "compact" : "comfortable");

          // Add glitch effect
          createGlitchEffect(this);
        });

        // Load saved view preference
        const savedViewPreference = localStorage.getItem("inventoryViewPreference");
        if (savedViewPreference === "compact") {
          inventoryGrid.classList.remove("comfortable-view");
          inventoryGrid.classList.add("compact-view");
        }
      }

      // Add to cart functionality with sound effects
      const addToCartBtns = document.querySelectorAll(".add-to-cart-btn");
      addToCartBtns.forEach(btn => {
        btn.addEventListener("click", function(event) {
          event.preventDefault();

          // Play sound effect
          tradeAudio.play();

          // Create glitch effect
          createGlitchEffect(this);

          // Show notification
          showNotification("Item added to cart");
        });
      });

      // Price range slider
      const priceRange = document.getElementById("priceRange");
      const priceValue = document.getElementById("priceValue");

      if (priceRange && priceValue) {
        priceRange.addEventListener("input", function() {
          priceValue.textContent = this.value;
        });
      }

      // AJAX form submission
      const forms = document.querySelectorAll(".ajax-form");
      forms.forEach(form => {
        form.addEventListener("submit", function(event) {
          event.preventDefault();

          const formData = new FormData(this);
          const url = this.getAttribute("action");

          fetch(url, {
            method: "POST",
            headers: {
              "X-Requested-With": "XMLHttpRequest",
              "X-CSRFToken": document.querySelector('[name=csrfmiddlewaretoken]').value,
            },
            body: formData,
          })
          .then(response => response.json())
          .then(data => {
            if (data.success) {
              // Update stock count
              document.getElementById('stock-count').textContent = data.stock_count;

              // Remove item if needed
              this.closest(".inventory-item")?.remove();

              // Play appropriate sound
              if (this.classList.contains('sell-form')) {
                sellAudio.play();
              } else if (this.classList.contains('withdraw-form')) {
                withdrawAudio.play();
              }
            }
          })
          .catch(error => console.error("Error:", error));
        });
      });
    });

    function initLoading() {
      const loadingOverlay = document.getElementById('loading-overlay');

      setTimeout(() => {
        loadingOverlay.style.opacity = '0';
        setTimeout(() => {
          loadingOverlay.style.display = 'none';
        }, 500);
      }, 100);
    }

    // System time
    function initSystemTime() {
      function updateTime() {
        const now = new Date();

        // Format time: HH:MM:SS
        const hours = now.getHours().toString().padStart(2, "0");
        const minutes = now.getMinutes().toString().padStart(2, "0");
        const seconds = now.getSeconds().toString().padStart(2, "0");
        const timeString = `${hours}:${minutes}:${seconds}`;

        // Format date: MMM DD, YYYY
        const options = { year: "numeric", month: "short", day: "numeric" };
        const dateString = now.toLocaleDateString("en-US", options);

        // Update DOM
        document.getElementById("current-time").textContent = timeString;
        document.getElementById("current-date").textContent = dateString;
      }

      // Update immediately and then every second
      updateTime();
      setInterval(updateTime, 1000);
    }

    function initParticles() {
      const canvas = document.getElementById("particle-canvas");
      if (!canvas) return;

      const ctx = canvas.getContext("2d");

      // Set canvas size
      function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      }

      resizeCanvas();
      window.addEventListener("resize", resizeCanvas);

      // Particle class
      class Particle {
        constructor() {
          this.x = Math.random() * canvas.width;
          this.y = Math.random() * canvas.height;
          this.size = Math.random() * 3 + 1;
          this.speedX = (Math.random() - 0.5) * 0.5;
          this.speedY = (Math.random() - 0.5) * 0.5;

          // Gaming-inspired colors: cyan, magenta, blue
          const colors = ['rgba(0, 229, 255, ', 'rgba(255, 0, 128, ', 'rgba(41, 121, 255, '];
          this.color = colors[Math.floor(Math.random() * colors.length)] + (Math.random() * 0.5 + 0.2) + ')';
        }

        update() {
          this.x += this.speedX;
          this.y += this.speedY;

          // Wrap around edges
          if (this.x > canvas.width) this.x = 0;
          if (this.x < 0) this.x = canvas.width;
          if (this.y > canvas.height) this.y = 0;
          if (this.y < 0) this.y = canvas.height;
        }

        draw() {
          ctx.fillStyle = this.color;
          ctx.beginPath();
          ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
          ctx.fill();
        }
      }

      // Create particles
      const particles = [];
      const particleCount = 100;

      for (let i = 0; i < particleCount; i++) {
        particles.push(new Particle());
      }

      // Animation loop
      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);

        for (const particle of particles) {
          particle.update();
          particle.draw();
        }

        // Draw connecting lines between nearby particles
        for (let i = 0; i < particles.length; i++) {
          for (let j = i + 1; j < particles.length; j++) {
            const dx = particles[i].x - particles[j].x;
            const dy = particles[i].y - particles[j].y;
            const distance = Math.sqrt(dx * dx + dy * dy);

            if (distance < 100) {
              ctx.beginPath();
              ctx.strokeStyle = `rgba(0, 229, 255, ${0.1 * (1 - distance / 100)})`;
              ctx.lineWidth = 0.5;
              ctx.moveTo(particles[i].x, particles[i].y);
              ctx.lineTo(particles[j].x, particles[j].y);
              ctx.stroke();
            }
          }
        }

        requestAnimationFrame(animate);
      }

      animate();
    }

    // Helper Functions
    function createGlitchEffect(element) {
      for (let i = 0; i < 5; i++) {
        const glitchLayer = document.createElement("div");
        glitchLayer.className = "glitch-layer";
        glitchLayer.style.cssText = `
          position: absolute;
          left: ${Math.random() * 100}%;
          top: ${Math.random() * 100}%;
          width: ${Math.random() * 10 + 10}px;
          height: ${Math.random() * 30 + 5}px;
          background: var(--primary);
          z-index: 10;
          opacity: 0.7;
          mix-blend-mode: screen;
        `;

        element.appendChild(glitchLayer);

        setTimeout(() => glitchLayer.remove(), 500);
      }
    }

    function showNotification(message) {
      const notificationContainer = document.getElementById('notification-container');
      const notification = document.createElement("div");
      notification.className = "notification";
      notification.innerHTML = `
        <div class="notification-content">
          <div class="notification-icon">
            <svg viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z" /></svg>
          </div>
          <div class="notification-message">${message}</div>
        </div>
      `;

      notificationContainer.appendChild(notification);

      setTimeout(() => notification.classList.add("show"), 10);
      setTimeout(() => {
        notification.classList.remove("show");
        setTimeout(() => notification.remove(), 500);
      }, 3000);
    }

function initFireSparks() {
  let container = document.getElementById('rising-sparks-container');
  if (!container) {
    container = document.createElement('div');
    container.id = 'rising-sparks-container';
    document.body.appendChild(container);
  }

  // Spark colors based on our theme
  const sparkClasses = ['gold', 'orange', 'red', 'cyan', 'magenta'];

  // Function to create a single spark
  function createSpark() {
    const spark = document.createElement('div');

    // Random properties
    const size = Math.random() * 15 + 5; // 5-20px
    const left = Math.random() * 100; // 0-100%
    const sparkClass = sparkClasses[Math.floor(Math.random() * sparkClasses.length)];
    const opacity = Math.random() * 0.5 + 0.3; // 0.3-0.8
    const duration = Math.random() * 3 + 2; // 2-5s
    const rotateDeg = (Math.random() - 0.5) * 360; // -180 to 180 degrees

    // Apply styles
    spark.className = `fire-spark ${sparkClass}`;
    spark.style.cssText = `
      width: ${size}px;
      height: ${size}px;
      left: ${left}%;
      --spark-opacity: ${opacity};
      animation: riseSpark ${duration}s forwards;
      --rotate-deg: ${rotateDeg}deg;
    `;

    // Add to container
    container.appendChild(spark);

    // Remove after animation completes
    setTimeout(() => {
      spark.remove();
    }, duration * 1000);
  }

  // Create initial batch of sparks
  for (let i = 0; i < 20; i++) {
    setTimeout(() => createSpark(), Math.random() * 1000);
  }

  // Continue creating sparks at intervals
  setInterval(() => {
    const sparkCount = Math.floor(Math.random() * 3) + 1; // 1-3 sparks at a time
    for (let i = 0; i < sparkCount; i++) {
      createSpark();
    }
  }, 200);
}



  </script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const buttons = document.querySelectorAll('.filter-buttons .element-item');
    buttons.forEach(function(button) {
      button.addEventListener('click', function() {
        // Remove the active class from all buttons and add it to the selected one
        buttons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        // Retrieve the selected filter from the data attribute
        const filterType = button.getAttribute('data-filter');
        // Construct the AJAX URL – adjust the path if necessary
        const url = `/filter-games/?filter=${filterType}`;
        // Fetch the updated partial from the server
        fetch(url)
          .then(response => response.text())
          .then(html => {
            document.getElementById('inventoryGameGrid').innerHTML = html;
          })
          .catch(error => console.error('Error fetching filtered games:', error));
      });
    });
  });
</script>

  <script src="{% static 'css/js/jquery-1.11.3.min.js' %}"></script>
  <script src="{% static 'css/js/main.js' %}"></script>
  <script src="{% static 'css/js/css/bootstrapper.min.js' %}"></script>
  <script src="{% static 'css/js/jquery.countdown.js' %}"></script>
  <script src="{% static 'css/js/jquery.isotope-3.0.6.min.js' %}"></script>
  <script src="{% static 'css/js/waypoints.js' %}"></script>
  <script src="{% static 'css/js/jquery.magnific-popup.min.js' %}"></script>
  <script src="{% static 'css/js/owl.carousel.min.js' %}"></script>
  <script src="{% static 'css/js/jquery.meanmenu.min.js' %}"></script>
  <script src="{% static 'css/js/sticker.js' %}"></script>
</body>
</html>